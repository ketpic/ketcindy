\documentclass{ujarticle}
\usepackage{pict2e}
\usepackage{ketpic2e,ketlayer2e,ketlayermorewith2e}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{bm,enumerate}
\usepackage[dvipdfmx,colorlinks=true,urlcolor=blue]{hyperref}

\setmargin{15}{15}{15}{15}

\西暦

\renewcommand{\labelitemi}{・}
\pagestyle{empty}

\begin{document}

\begin{center}
KeTCindyを使うために
\end{center}

\vspace{-5mm}

\hfill 修正日：\today

\begin{enumerate}[\bf\large 1.]
\item Cinderella, R, Maxima とSumatra(Windowsのみ)をインストールする．\vspace{-2mm}

 \begin{itemize}
 \item \url{https://beta.cinderella.de}  (Cinderella)\\
\hspace*{6mm}注）Windowsの場合，保存してから右クリックして「管理者として実行」を選ぶ．
 \item \url{https://cran.r-project.org}   (R)
 \item \url{https://sourceforge.net/projects/maxima/files}  (Maxima)
 \item \url{https://www.sumatrapdfreader.org/download-free-pdf-viewer.html} (Sumatra)\\
\hspace*{6mm}注）Sumatraのインストール先は，オプションでProgram Files（またはx86）を指定する．

 \end{itemize}
\item TeXをインストールしていない場合はインストールする．\vspace{-2mm}
 \begin{enumerate}[(1)]
 \item TeXLiveを推奨　（２０１８以降ではketcindyが組み込まれている．ただし更新が必要）
 \item KeTTeXはTeXLiveの軽量版で以下からダウンロードできる．\\
\hspace*{3mm}\url{https://github.com/ketpic/kettex/releases}\\
    \hspace*{6mm}注）インストールの詳細は\verb|doc>readmemore|フォルダにあるReadmemore(Mac,Win)を参照．
%    \hspace*{5mm}注）Mac(Catalina)の場合，ターミナルで \verb|sudo spctl --master-enable| を実行
\end{enumerate}
 
\item KeTCindyのインストール(更新)\vspace{-2mm}
  \begin{enumerate}[(1)]
  \item ketcindyをCTAN(\url{https://ctan.org})からダウンロードする．
    \begin{itemize}

     \item ketcindyで検索 $>$ Package ketcindy $>$ {\color{red}Repository}」（最新版）
     \item Repositoryはgithubサイトにある{\color{red}最新版}へのリンク\\
        \hspace*{10mm}Code $>$ Download ZIP（フォルダ名はketcindy-master）
     \item \Ltab{8zw}{Windowsの場合}(i) {\color{red}OneDriveの管轄外で漢字や半角スペースが入らない場所(\verb|C:\|など）}に解凍する．\\
\Ltab{8zw}{}(ii) 解凍したら，{\color{red}ketcindy-masterの「-]や半角スペースをとっておく．}
     \end{itemize}
\item docにある\verb|ketcindysettings.cdy|をダブルクリック(画面が狭ければ，右方向に広げる)．
    \begin{itemize}
    \item 必要なら，実行プログラムをCinderellaに設定する．
    \item 他のcdyファイルを開いているときは，Cinderellaを一旦終了してからにする．

   \end{itemize}
  \item 画面上のボタン(1)(2)を選択して，(3)を順に実行する．
  \end{enumerate}

%\vspace{3mm}

\begin{layer}{140}{0}
\putnotese{17}{18}{\includegraphics[bb=0.00 0.00 813.00 271.00,width=100mm]{setting.pdf}}
\arrowlineseg{30}{17}{14}{135}
\putnotee{0}{5}{\bf [1]\ 言語などの選択}
\putnotese{-7}{10}{\underline{Language}}
\putnotese{-5}{15}{\begin{tabular}{l}
Japanese\vspace{-1mm}\\English \end{tabular}}
\putnotese{-7}{25}{\underline{\TeX}}
\putnotese{-5}{29}{\begin{tabular}{l}
platex\vspace{-1mm}\\uplatex\vspace{-1mm}\\latex\vspace{-1mm}\\xelatex\vspace{-1mm}\\pdflatex\vspace{-1mm}\\lualatex\end{tabular}}
\putnotese{-7}{57}{\underline{Graphic Code}}
\putnotese{20}{57}{pict2e,\ Tpic,\ tikz}
\arrowlineseg{60}{17}{9}{90}
\putnoten{60}{7}{\bf [2]\ \TeX システムの選択}
\arrowlineseg{86}{17}{10}{60}
\putnotee{83}{5}{\bf [3]\ 作成と更新}
\arrowlineseg{104}{17}{14}{45}
\putnotee{115}{5}{\bf [3]\ \TeX 不使用}
\putnotese{121}{12}{\fbox{Mkinit}}
\putnotese{123}{18}{\begin{minipage}[t]{52mm}%
初期設定ファイルketcindy.iniをユーザホーム(ホーム)に作成\\
\end{minipage}}
\putnotese{121}{30}{\fbox{Update}}
\putnotese{123}{37}{TeXシステムのketcindyを更新}
\putnotese{121}{45}{\fbox{Work}}
\putnotese{123}{52}{\begin{minipage}[t]{52mm}
作業フォルダketcindy(+日付)をホームに作成
\end{minipage}}
\end{layer}

\vspace{60mm}

\item テストラン\vspace{-2mm}

\begin{itemize}
 \item Cinderellaをいったん終了，ユーザホーム/ketcindy(+日付)/templtatesの1つのファイルをダブルクリック．\vspace{-1mm}
\item\verb|Figure|を押して，pdfが表示されれば成功
\end{itemize}

\item  その他\vspace{-2mm}
\begin{itemize}
\item \verb|ketcindy.ini|はユーザホームに作られる．\\
　・\verb|CindyScripts>ketlib|の３行目を\verb|setdirectory(gethome());|とする．
%　・CinderellaのPluginsフォルダにコピーした場合は，\verb|setdirectory(plugindirectory);|とする．

\item エディタやその他の設定については，\verb|doc>readmemore|フォルダにあるReadmemore(Mac,Win,Linux)を参照．
\item \ketcindy JSだけを用いるときは，Cinderellaだけをインストールすればよい，\\
　・ketcindysettings.cdyでNotexを押すと，ユーザホームにketcindy.iniができる．
\end{itemize}


\newpage

\item Macの補足

\begin{enumerate}[(1)]

\item TeXWorksの設定（kettexの場合）
  \begin{itemize}
  \item \url{https://github.com/TeXworks/texworks/releases/} からダウンロードできる．
  \item TeXworksを立ち上げ，「TeXworks \verb|>| 環境設定 \verb|>| タイプセット」
  \item 上の欄（パス）に\verb|kettexlive|を選択して入れる\\
  \hspace*{10mm}注) この行を上の欄の先頭に移動する．
  \item 下の欄の横にある + をクリック
    \begin{itemize}
    \item 名前：uplatex(ptex2pdf)またはplatex(ptex2pdf)
    \item プログラム : ptex2pdf
    \item 引数：\\
    \hspace*{10mm} \verb|-u|（uplatexの場合のみ）\\
    \hspace*{10mm} \verb|-l|\\
    \hspace*{10mm} \verb|-ot|\\
    \hspace*{10mm}  \verb|$synctexoption|\\
    \hspace*{10mm}  \verb|$fullname|
    \item[]OKボタンを押し，デフォルトを変更してOKボタンを押す．
    \end{itemize}
  \end{itemize}

\item TeXShopの設定（kettexの場合）
  \begin{itemize}
  \item \verb|/Applications/TeX/TexShop.app|がなければ，以下からダウンロードする．\\
  \hspace*{5mm}\url{https://pages.uoregon.edu/koch/texshop/obtaining.html}
  \item TeXShopを立ち上げ，「TeXShop \verb|>| 環境設定 |」
  \item 「書類\verb|>|設定プロファイル」　ptex(ptex2pdf)かuptex(uptex2pdf)を選ぶ
  \item 「内部設定\verb|>|パス設定」に\verb|kettex/bin/...darwin|フォルダをドラグドロップする．
  \end{itemize}

\item gccのインストール
  \begin{itemize}
    \item 曲面描画のためには, gccが必要である．
    \item Xcodeがインストールされていなければ，インストールする．\\
    \hspace*{5mm}注) ターミナルで次を実行すれば，gccだけがインストールされる．\\
    \hspace*{20mm}\verb|sudo xcode-select --install|
  \end{itemize}

\item M1でのMaximaのインストール
  \begin{enumerate}[(1)]
    \item Homebrewを以下のコマンドでインストールする．\\
　{\small \verb|/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"|}\\
　　・Homebrewを既にインストールしている場合は不要
\item Maximaをインストールする．\\
　\verb|brew install maxima|
\item \verb|type|でMaximaのインストール先を見つける(typeはMac専用)．\\
　\verb|type maxima|\\
　　・\verb|/opt/local|, \verb|/usr/local|などの中にある．
\item ユーザーホームにある\verb|ketcindy.ini|のPathMに上で得たパスを入れる．
  \end{enumerate}

%\item 手動でコピーする場合（KeTTeX）\\
%\hspace*{1zw}注）他のTeXの場合は，適宜パスを置き換える．\\
%\hspace*{3zw}\verb|/Applications/kettex/texlive| $=>$ \verb|/Library/TeX/Root| など
%  \begin{enumerate}[(1)]
%  \item ketcindy(-master)/ketcindyfolderを開いておく．
%  \item scriptsフォルダの中身を以下にコピーする．\\
%　\verb|/Applications/kettex/texlive/texmf-dist/scripts/ketcindy|
%  \item styleフォルダの中身を以下にコピーする．\\
%　\verb|/Applications/kettex/texlive/texmf-dist/tex/latex/ketcindy|
%  \item docフォルダの中身を以下にコピーする．\\
%　\verb|/Applications/kettex/texlive/texmf-dist/doc/support/ketcindy|
%  \item ターミナルで以下を実行する\\
%  \hspace*{1zw}\verb|sudo /Applications/kettex/texlive/bin/x86_64-darwin/mktexlsr|
%  \item workをユーザホームなど適当な場所にコピーして，名前（例えばketcindy）を変更する．
%  \item 上の作業ディレクトリ(ketcindy)に doc/ketmanual のマニュアルをコピーする．
%  \end{enumerate}

\item その他

\begin{itemize}
\item kettex.appの実行許可が与えられていないときは，ターミナルで\\
\hspace*{5mm}sudo xattr -r -d com.apple.quarantine    /Applications/KeTTeX.app\\
を実行する（「manなどのファイルがない」とのメッセージが出ても問題ない）
%\begin{enumerate}[(1)]
%\item ターミナルで \verb|sudo stctl --master-disable| を実行
%\item システム環境設定＞セキュリティとプライバシー を開く
%\item 実行の許可が「すべてを許可」になっているかを確認する
%   \end{enumerate}
%
    \item PDFの表示後，ターミナル画面を閉じるようにする
       \begin{enumerate}[(1)]
        \item アプリケーション \verb|/| ユーティリティ \verb|/| ターミナルを開く
        \item トップメニューから\\
          \hspace*{5mm}ターミナル＞環境設定 \verb|>|（プロファイル）\verb|>| シェル\\
          \hspace*{10mm}「シェルが正常に終了した場合閉じる」を選択
        \end{enumerate}
\end{itemize}

\end{enumerate}

\newpage

\item Windwosの補足

\begin{enumerate}[(1)]
\item Cinderellaのインストール
\begin{itemize}
\item \url{https://beta.cinderella.de}から「保存」でダウンロードする．
\item インストーラを右クリック「管理者として実行」を選ぶ．
\item インストール先をProgram Files（または (x86)）を選ぶ．
\end{itemize}

\item Sumatraのインストール
\begin{itemize}
\item \url{https://www.sumatrapdfreader.org/download-free-pdf-viewer.html} からダウンロードする．
\item {\color{red}\verb|Option|を選び}，インストール先をProgram Files（または (x86)）にする．
\end{itemize}

\item TeXWorksの設定（kettexの場合）
  \begin{itemize}
  \item \url{http://www.tug.org/texworks/}からダウンロードする．
   \item TeXworksを立ち上げ，「TeXworks \verb|>| 環境設定 \verb|>| タイプセット」
  \item 上の欄（パス）に以下を追加\\
  \hspace*{5mm}\verb|C:\kettex\texlive\bin\win32|\\
  \hspace*{10mm}注) 上の行を上の欄の先頭になるように移動する．
  \item 下の欄の横にある + をクリック
    \begin{itemize}
    \item 名前：uplatex(ptex2pdf)またはplatex(ptex2pdf)
    \item プログラム : ptex2pdf
    \item 引数：\\
    \hspace*{10mm} \verb|-u|（uplatexの場合のみ）\\
    \hspace*{10mm} \verb|-l|\\
    \hspace*{10mm} \verb|-ot|\\
    \hspace*{10mm}  \verb|$synctexoption|\\
    \hspace*{10mm}  \verb|$fullname|
    \item[]OKボタンを押し，デフォルトを変更してOKボタンを押す．
    \end{itemize}
  \end{itemize}

\item MinGWのインストール
  \begin{itemize}
    \item 曲面描画のためには, gccが必要である．
    \item \url{https://sourceforge.net/projects/mingw-w64/}から，\verb|mingw-w64-install.exe|
    をダウンロードして実行
  \begin{enumerate}[(1)]
  \item Program FielesまたはProgram Files(x86)にインストールする．
  \item Architecture：Windows10が32bit版の場合\verb|i686|，64bit版の場合\verb|x86_64|を選択
\end{enumerate}

 \end{itemize}

\end{enumerate}

\end{enumerate}


\end{document}