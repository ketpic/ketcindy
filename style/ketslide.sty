%Copyright (C)  2014  Setsuo Takato, KETpic developer team
%* 
%* This program is free software: you can redistribute it and/or modify
%* it under the terms of the GNU General Public License as published by
%* the Free Software Foundation; either version 3 of the License, or
%* (at your option) any later version.
%* 
%* This program is distributed in the hope that it will be useful,
%* but WITHOUT ANY WARRANTY; without even the implied warranty of
%* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%* GNU General Public License for more details.
%* 
%* You should have received a copy of the GNU General Public License
%* along with this program.  If not, see <http://www.gnu.org/licenses/>
%%% 241229 \addtext,\addenm changed
%%% 241224 enm,\enminit,\addenm
%%% 240422 \monbannoadd dbg
%%% 240420 \textinit,\settext,\addtext,\ten, \ban
%%% 240420 \monban,eda
%%% \ten,\ban changed 2024-4-13 
%%%% ketslide.sty 2024-3-4 
%%%    addtext,settext,... added
%%% ketslide.sty 2017-1-9 11:50
%%% ketslide170109.sce 2017-1-9 11:50
%       2017.01.09 ketslide%
%    \documentclass[landscape,10pt]{jarticle}%
% or \documentclass[landscape,10pt]{article}%
%\special{papersize=297mm,210mm}%
\mag=2000%
\newcommand{\ketmarginJ}{%
\setmargin{20}{150}{15}{100}%180701
%
}%
\newcommand{\ketmarginE}{%
\setmargin{20}{135}{15}{100}%180701
%
}%
\newcommand{\ketslideinit}{%
\definecolor{ketshadowclr}{cmyk}{0,0,0,0.5}%
\def\ketcletter{black}%
\def\ketcbox{black}%
\def\ketdbox{}%
\def\ketcframe{black}%
\def\ketcshadow{ketshadowclr}%
\def\ketdshadow{}%
\def\ketslidew{130}%
\def\slidetitlex{6}%
\def\slidetitlesize{2}%
\def\mketcletter{black}%
\def\mketcbox{white}%
\def\mketdbox{}%
\def\mketcframe{white}%
\def\mslidetitlex{62}%
\def\mslidetitlesize{3}%
%
}%
\newcommand{\newnewslide}[2][7]{%
\def\slidetitle{{\color{\ketcletter}#2}}%
{\unitlength=1mm%
\ketcalcwidth{#2}%
}%
%
{%
\ifnum %
\theketpicctra>1 %
\begin{layer}{\ketslidew}{0}%
\popframe{\slidetitlex}{#1}%
{\ketdshadow}{\ketcshadow}%
{\ketdbox}{\ketcbox}{\ketcframe}%
{\scalebox{\slidetitlesize}{\slidetitle}}%
\end{layer}%
%
\fi%
}%
%
}%
\newcommand{\newslide}[2][7]{%
\newpage%
\def\slidetitle{{\color{\ketcletter}#2}}%
{\unitlength=1mm%
\ketcalcwidth{#2}%
}%
%
{%
\ifnum %
\theketpicctra>1 %
\begin{layer}{\ketslidew}{0}%
\popframe{\slidetitlex}{#1}%
{\ketdshadow}{\ketcshadow}%
{\ketdbox}{\ketcbox}{\ketcframe}%
{\scalebox{\slidetitlesize}{\slidetitle}}%
\end{layer}%
%
\fi%
}%
%
}%
\newcommand{\sameslide}[1][7]{%
\newpage%
\addtocounter{page}{-1}%
\ketcalcwidth{\slidetitle}%
{\unitlength=1mm%
\ketcalcwidth{\slidetitle}%
}%
%
{%
\ifnum %
\theketpicctra>1 %
\begin{layer}{\ketslidew}{0}%
\popframe{\slidetitlex}{#1}%
{\ketdshadow}{\ketcshadow}%
{\ketdbox}{\ketcbox}{\ketcframe}%
{\scalebox{\slidetitlesize}{\slidetitle}}%
\end{layer}%
%
\fi%
}%
%
}%
\newcommand{\mainslide}[2][35]{%
\newpage%
\def\slidetitle{{\color{\mketcletter}#2}}%
{\unitlength=1mm%
\ketcalcwidth{#2}%
}%
%
{%
\ifnum %
\theketpicctra>1 %
\begin{layer}{\ketslidew}{0}%
\colorframes{\mslidetitlex}{#1}%
{\mketdbox}{\mketcbox}{\mketcframe}%
{\scalebox{\mslidetitlesize}{\slidetitle}}%
\end{layer}%
%
\fi%
}%
%
}%
\newcommand{\mainsameslide}[1][35]{%
\newpage%
\addtocounter{page}{-1}%
{\unitlength=1mm%
\ketcalcwidth{\slidetitle}%
}%
%
{%
\ifnum %
\theketpicctra>1 %
\begin{layer}{\ketslidew}{0}%
\colorframes{\mslidetitlex}{#1}%
{\mketdbox}{\mketcbox}{\mketcframe}%
{\scalebox{\mslidetitlesize}{\slidetitle}}%
\end{layer}%
%
\fi%
}%
%
}%

%% 241224from
\newcounter{enm}
\newcommand{\enminit}{
\setcounter{enm}{1}
}
\newcommand{\addenm}{%
\addtocounter{enm}{1}%% add "%" by kubo 20241229 %%
}
%% 241224to

%% 240420from
\newcounter{txtLi}%%startheight
\newcounter{txtLii}%%linebreakwidth
\newcounter{txtLiii}%%linewidth
\newcommand{\addtext}[4][0]{
\addtocounter{txtLi}{#1}
\putnotese{#2}{\thetxtLi}%
{#3 \begin{minipage}[t]{\thetxtLiii mm}\rule{0mm}{0mm}#4\end{minipage}}%% add \rule by kubo 20241230 %%
\addtocounter{txtLi}{\thetxtLii}%% add "%" by kubo 20241229 %%
}
\newcommand{\settext}[3]{\setcounter{txtLi}{#1}\setcounter{txtLii}{#2}\setcounter{txtLiii}{#3}}
%settext{8}{8}{110}
\newcommand{\textinit}[1][100]{\settext{8}{8}{#1}}
\newcommand{\ten}[1][0.9]{\scalebox{#1}{$\bullet$\ }}
\newcommand\ban[1]{(#1)\ }
\newcommand{\addth}[1]{\addtocounter{txtLii}{#1}}
\newcommand{\hako}[2][1]{\fbox{\raisebox{#1mm}{\mbox{}}\raisebox{-#1mm}{\mbox{}}\,\phantom{#2}\,}}
\newcommand{\hakoa}[2][1]{\fbox{\raisebox{#1mm}{\mbox{}}\raisebox{-#1mm}{\mbox{}}\,#2\,}}
\newcommand{\hakom}[2][1]{\hako[#1]{$#2$}}
\newcommand{\hakoma}[2][1]{\hakoa[#1]{$#2$}}
\def\rad{\;\mathrm{rad}}
\def\deg#1{#1^{\circ}}
\newcommand{\sbunsuu}[2]{\scalebox{0.6}{$\bunsuu{#1}{#2}$}}
\def\pow{$\hspace{-1.5mm}ï¼¾\hspace{-1mm}$}
\def\dlim{\displaystyle\lim}
\newcommand{\brd}[2][1]{\scalebox{#1}{\color{red}\fbox{\color{black}$#2$}}}
\newcommand{\down}[1]{
\vspace{#1}

}

\newcommand{\sfrac}[3][0.65]{\scalebox{#1}{$\frac{#2}{#3}$}}
\newcommand{\phn}[1]{\phantom{#1}}
\newcommand{\scb}[2][0.6]{\scalebox{#1}{#2}}
\newcommand{\dsum}{\displaystyle\sum}

\newcounter{mban}
\setcounter{mban}{1}
\newcommand{\monban}[1][\monthday]{%
#1-\themban\ %
\addtocounter{mban}{1}%
}
\newcommand{\monbannoadd}[1][\monthday]{%
#1-\themban\ %
}
\newcommand{\addban}{%
\addtocounter{mban}{1}%
}
\newcounter{edawidth}
\newcounter{edactr}
\newcommand{\seteda}[1]{% 20220708 modified
\setcounter{edawidth}{#1}
\setcounter{edactr}{1}
}
\newcommand{\eda}[2][\theedawidth]{%
\Ltab{#1 mm}{[\theedactr]\ #2}%
\addtocounter{edactr}{1}%
}

%% 240420to
